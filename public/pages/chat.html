<!DOCTYPE html>
<html>
	<head>
		<title>Global Chat</title>
		<script src="/socket.io/socket.io.js"></script>
	</head>
	<body>
		<h1>Global Chat</h1>
		<ul id="messages"></ul>
		<form id="chat-form">
			<input type="text" id="input-message" autocomplete="off" />
			<button type="submit">Send</button>
		</form>
		<script>
			const socket = io(); // Connect to the Socket.IO server

			// Listen for chat message events
			socket.on("chat message", msg => {
				const li = document.createElement("li");
				li.textContent = msg;
				document.getElementById("messages").appendChild(li);
			});

			// Send chat message on form submission
			document.getElementById("chat-form").addEventListener("submit", e => {
				e.preventDefault();
				const input = document.getElementById("input-message");
				const message = input.value.trim();
				if (message !== "") {
					socket.emit("chat message", message); // Send chat message to the server
					input.value = "";
				}
			});
		</script>
	</body>
</html>
